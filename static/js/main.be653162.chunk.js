(this.webpackJsonpalbum=this.webpackJsonpalbum||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),i=a.n(r),l=(a(15),a(1)),c=a(2),o=a(5),p=a(3),m=a(4),u=(a(16),a(9)),d=a.n(u),h=(a(26),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="https://www.last.fm/user/"+this.props.attrs.user;return s.a.createElement("div",{className:"section navbar"},s.a.createElement("div",{className:"navbaritems section nav-one"},s.a.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},s.a.createElement(d.a,{rating:"g",email:this.props.attrs.email}))),s.a.createElement("div",{className:"navbaritems section nav-two"},this.props.attrs.user))}}]),a}(s.a.Component)),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).drawerImageSize=220,n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.size,a=this.props.size;return this.props.flipped?s.a.createElement("div",{className:"album album"+this.props.index,onClick:function(t){return e.props.drawerHandler(t,e.props.index-1)}},s.a.createElement("div",{className:"flipp"},s.a.createElement("div",{style:{width:t+6,height:a+2},className:"back"},this.props.index))):s.a.createElement("div",{className:"album album"+this.props.index,onClick:function(t){return e.props.drawerHandler(t,e.props.index-1)}},s.a.createElement("div",{className:"flipp"},s.a.createElement("div",{className:"front"},s.a.createElement("img",{style:{width:t,height:a},alt:this.props.name,src:this.props.url}))))}}]),a}(s.a.Component),v=(a(27),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.albums.slice(this.props.start,this.props.end);return s.a.createElement("div",{className:"section "+this.props.class},t.map((function(t,a){return s.a.createElement("div",{className:"covers-album",key:a+1},s.a.createElement(f,{drawerHandler:function(){return e.props.drawerHandler(a)},name:t.name,size:e.props.size,url:t.image,flipped:t.flipped,index:a+1,key:a+1}))})))}}]),a}(s.a.Component)),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"section top40"},s.a.createElement("div",{className:"center-covers"},s.a.createElement("div",{className:"covers-container"},s.a.createElement(v,{drawerHandler:this.props.drawerHandler,class:"covers",start:0,end:40,size:this.props.size,albums:this.props.albums}))))}}]),a}(s.a.Component),E=(a(28),a(29),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"section drawer ".concat(this.props.open?"open":"closed")},s.a.createElement("div",{className:"zoomed"},s.a.createElement("img",{style:{width:this.props.size-2,height:this.props.size-2},alt:this.props.name,src:this.props.selected.image_large})),s.a.createElement("div",{className:"section note"},this.props.selected.name,s.a.createElement("div",{className:"artist"},this.props.selected.artist.name),s.a.createElement("div",{className:"plays"},this.props.selected.playcount," listens"),s.a.createElement("div",{className:"section lastfmlink info".concat(this.props.lastfm?" lastfm":"")},s.a.createElement("img",{onClick:function(){return e.props.openLastFM(e.props.selected.url)},style:{width:50,height:50},alt:"last.fm",src:"/top40/data/last.fm.png"}))))}}]),a}(s.a.Component)),w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).drawerImageSize=220,n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"section"},s.a.createElement("div",null,s.a.createElement("div",{className:"section closeupcontainer"},s.a.createElement(E,{lastfm:this.props.lastfm,openLastFM:this.props.openLastFM,size:this.drawerImageSize,selected:this.props.selected,open:this.props.open}))),s.a.createElement("div",{className:"section zoom"},s.a.createElement("div",{className:"section titlecontainer"},"My Top 40 Albums")))}}]),a}(s.a.Component),g=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={albums:[],user:{},open:!1,lastfm:!1,selected:{}},n.cleanAlbums=n.cleanAlbums.bind(Object(o.a)(n)),n.loadData=n.loadData.bind(Object(o.a)(n)),n.toggleDrawer=n.toggleDrawer.bind(Object(o.a)(n)),n.closeDrawer=n.closeDrawer.bind(Object(o.a)(n)),n.openDrawer=n.openDrawer.bind(Object(o.a)(n)),n.openLastFM=n.openLastFM.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"openLastFM",value:function(e){var t=this;this.setState({lastfm:!0}),setTimeout((function(){return t.setState({lastfm:!1})}),150),window.open(e,"_blank")}},{key:"flipAlbum",value:function(e){var t=this.state.albums;t.forEach((function(t,a){t.flipped=a===e&&!t.flipped})),this.setState({albums:t})}},{key:"closeDrawer",value:function(){this.setState({open:!1})}},{key:"openDrawer",value:function(e){this.setState({selected:this.state.albums[e],open:!this.state.open})}},{key:"toggleDrawer",value:function(e){var t=this;this.flipAlbum(e),!0===this.state.open?(this.closeDrawer(),this.state.selected!==this.state.albums[e]&&setTimeout((function(){return t.openDrawer(e)}),150)):this.openDrawer(e)}},{key:"cleanAlbums",value:function(e){var t=[];return e.forEach((function(e){var a={};a.artist=e.artist,a.rank=e["@attr"].rank,a.image=e.image[2]["#text"],a.image_large=e.image[3]["#text"],a.playcount=e.playcount,a.url=e.url,a.name=e.name,a.flipped=!1,t.push(a)})),t}},{key:"loadData",value:function(){var e=this;console.log("Loading: ./data/data.json"),fetch("./data/data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.slice(-1)[0];e.setState({albums:e.cleanAlbums(a.topalbums.album),user:a.topalbums["@attr"],selected:a.topalbums.album[0]})}))}},{key:"componentDidMount",value:function(e){this.loadData(),console.log("State Loaded!")}},{key:"render",value:function(){var e=this.state,t=e.albums,a=e.user;return t.length>0?s.a.createElement("div",{className:"parent"},s.a.createElement("div",{className:"wrapper"},s.a.createElement(h,{attrs:a}),s.a.createElement(w,{lastfm:this.state.lastfm,openLastFM:this.openLastFM,selected:this.state.selected,open:this.state.open}),s.a.createElement("div",{className:"section details"},"Select an album for details."),s.a.createElement("div",{className:"section scrollable"},s.a.createElement(b,{drawerHandler:this.toggleDrawer,size:100,albums:t})))):s.a.createElement("div",null,"Loading Please Wait")}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.be653162.chunk.js.map